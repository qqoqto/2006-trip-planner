<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å¤§é˜ªé—œè¥¿æ—…è¡Œ 2025</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;600;700&family=Noto+Sans+TC:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-cream: #FAF8F5;
            --bg-card: #FFFFFF;
            --text-primary: #2C2C2C;
            --text-secondary: #6B6B6B;
            --text-muted: #9A9A9A;
            --accent-burgundy: #8B3A3A;
            --accent-burgundy-light: #C97878;
            --accent-green: #4A7C59;
            --accent-blue: #4A6B8C;
            --accent-gold: #B8956B;
            --border-light: #E8E4E0;
            --shadow-soft: 0 2px 12px rgba(0,0,0,0.06);
            --shadow-card: 0 4px 20px rgba(0,0,0,0.08);
            --radius-sm: 8px;
            --radius-md: 12px;
            --radius-lg: 16px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans TC', sans-serif;
            background: var(--bg-cream);
            color: var(--text-primary);
            min-height: 100vh;
            line-height: 1.6;
        }

        /* Header */
        .header {
            background: var(--bg-card);
            padding: 16px 20px;
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid var(--border-light);
        }

        .header-top {
            text-align: center;
            margin-bottom: 12px;
        }

        .trip-label {
            font-size: 11px;
            letter-spacing: 2px;
            color: var(--text-muted);
            text-transform: uppercase;
        }

        .trip-title {
            font-family: 'Noto Serif TC', serif;
            font-size: 24px;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
        }

        .year-badge {
            font-size: 12px;
            padding: 4px 12px;
            border: 1px solid var(--border-light);
            border-radius: 20px;
            font-family: 'Noto Sans TC', sans-serif;
            font-weight: 400;
        }

        /* Calendar Strip */
        .calendar-strip {
            display: flex;
            gap: 4px;
            overflow-x: auto;
            padding: 8px 0;
            scrollbar-width: none;
        }

        .calendar-strip::-webkit-scrollbar {
            display: none;
        }

        .calendar-day {
            flex: 0 0 auto;
            text-align: center;
            padding: 8px 16px;
            cursor: pointer;
            border-radius: var(--radius-sm);
            transition: all 0.2s;
            min-width: 56px;
        }

        .calendar-day:hover {
            background: var(--border-light);
        }

        .calendar-day.active {
            background: var(--text-primary);
            color: white;
        }

        .calendar-day .weekday {
            font-size: 11px;
            color: var(--text-muted);
            margin-bottom: 2px;
        }

        .calendar-day.active .weekday {
            color: rgba(255,255,255,0.7);
        }

        .calendar-day .date {
            font-size: 18px;
            font-weight: 500;
        }

        .calendar-day .dot {
            width: 4px;
            height: 4px;
            background: var(--accent-burgundy);
            border-radius: 50%;
            margin: 4px auto 0;
        }

        .calendar-day.active .dot {
            background: white;
        }

        /* Tab Navigation */
        .tab-nav {
            display: flex;
            background: var(--bg-card);
            border-bottom: 1px solid var(--border-light);
            overflow-x: auto;
            scrollbar-width: none;
        }

        .tab-nav::-webkit-scrollbar {
            display: none;
        }

        .tab-btn {
            flex: 0 0 auto;
            padding: 12px 20px;
            font-size: 14px;
            color: var(--text-muted);
            border: none;
            background: none;
            cursor: pointer;
            position: relative;
            font-family: inherit;
            white-space: nowrap;
        }

        .tab-btn.active {
            color: var(--text-primary);
            font-weight: 500;
        }

        .tab-btn.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 20px;
            right: 20px;
            height: 2px;
            background: var(--text-primary);
        }

        /* Main Content */
        .main-content {
            padding: 16px;
            padding-bottom: 100px;
        }

        /* Day Hero Section */
        .day-hero {
            position: relative;
            border-radius: var(--radius-lg);
            overflow: hidden;
            margin-bottom: 20px;
            aspect-ratio: 16/9;
        }

        .day-hero-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .day-hero-overlay {
            position: absolute;
            inset: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.7) 0%, transparent 50%);
        }

        .day-hero-content {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 20px;
            color: white;
        }

        .day-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            font-size: 12px;
            margin-bottom: 8px;
        }

        .day-badge-icon {
            width: 16px;
            height: 16px;
        }

        .day-title {
            font-family: 'Noto Serif TC', serif;
            font-size: 20px;
            font-weight: 600;
        }

        /* Weather Card */
        .weather-card {
            background: var(--bg-card);
            border-radius: var(--radius-md);
            padding: 16px;
            margin-bottom: 16px;
            box-shadow: var(--shadow-soft);
        }

        .weather-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .weather-location {
            font-weight: 500;
        }

        .weather-source {
            font-size: 11px;
            color: var(--text-muted);
            background: var(--bg-cream);
            padding: 4px 8px;
            border-radius: 4px;
        }

        .weather-forecast {
            display: flex;
            gap: 8px;
            overflow-x: auto;
            scrollbar-width: none;
        }

        .weather-forecast::-webkit-scrollbar {
            display: none;
        }

        .weather-item {
            flex: 0 0 auto;
            text-align: center;
            padding: 8px 12px;
            min-width: 60px;
        }

        .weather-item .time {
            font-size: 12px;
            color: var(--text-muted);
            margin-bottom: 4px;
        }

        .weather-item .icon {
            font-size: 24px;
            margin-bottom: 4px;
        }

        .weather-item .temp {
            font-size: 16px;
            font-weight: 500;
        }

        /* Timeline */
        .timeline {
            position: relative;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 44px;
            top: 0;
            bottom: 0;
            width: 1px;
            background: var(--border-light);
        }

        .timeline-item {
            display: flex;
            gap: 16px;
            margin-bottom: 24px;
            position: relative;
        }

        .timeline-time {
            flex: 0 0 36px;
            text-align: right;
            padding-top: 4px;
        }

        .timeline-time .hour {
            font-size: 14px;
            font-weight: 500;
        }

        .timeline-time .period {
            font-size: 10px;
            color: var(--text-muted);
        }

        .timeline-dot {
            flex: 0 0 16px;
            height: 16px;
            border-radius: 50%;
            background: var(--bg-card);
            border: 2px solid var(--border-light);
            margin-top: 4px;
            z-index: 1;
        }

        .timeline-item.transport .timeline-dot {
            border-color: var(--accent-blue);
            background: var(--accent-blue);
        }

        .timeline-item.food .timeline-dot {
            border-color: var(--accent-gold);
            background: var(--accent-gold);
        }

        .timeline-item.sightseeing .timeline-dot {
            border-color: var(--accent-green);
            background: var(--accent-green);
        }

        .timeline-card {
            flex: 1;
            background: var(--bg-card);
            border-radius: var(--radius-md);
            padding: 16px;
            box-shadow: var(--shadow-soft);
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .timeline-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-card);
        }

        .timeline-card-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 8px;
        }

        .timeline-card-title {
            font-weight: 600;
            font-size: 16px;
        }

        .timeline-card-category {
            font-size: 10px;
            letter-spacing: 1px;
            text-transform: uppercase;
            padding: 4px 8px;
            border-radius: 4px;
            background: var(--bg-cream);
            color: var(--text-muted);
        }

        .timeline-card.transport .timeline-card-category {
            background: rgba(74, 107, 140, 0.1);
            color: var(--accent-blue);
        }

        .timeline-card.food .timeline-card-category {
            background: rgba(184, 149, 107, 0.1);
            color: var(--accent-gold);
        }

        .timeline-card.sightseeing .timeline-card-category {
            background: rgba(74, 124, 89, 0.1);
            color: var(--accent-green);
        }

        .timeline-card-location {
            font-size: 13px;
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            gap: 4px;
            margin-bottom: 8px;
        }

        .timeline-card-desc {
            font-size: 13px;
            color: var(--text-muted);
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .timeline-card-price {
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid var(--border-light);
            font-size: 14px;
            font-weight: 500;
            color: var(--accent-burgundy);
        }

        /* Detail Modal */
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            display: none;
            align-items: flex-end;
            justify-content: center;
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal {
            background: var(--bg-card);
            width: 100%;
            max-width: 500px;
            max-height: 90vh;
            border-radius: var(--radius-lg) var(--radius-lg) 0 0;
            overflow: hidden;
            animation: slideUp 0.3s ease;
        }

        @keyframes slideUp {
            from {
                transform: translateY(100%);
            }
            to {
                transform: translateY(0);
            }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px 20px;
            border-bottom: 1px solid var(--border-light);
        }

        .modal-header-left {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .modal-category {
            font-size: 11px;
            letter-spacing: 1px;
            text-transform: uppercase;
            padding: 4px 10px;
            border-radius: 4px;
            border: 1px solid var(--border-light);
        }

        .modal-time {
            font-size: 14px;
            color: var(--text-secondary);
        }

        .modal-close {
            width: 32px;
            height: 32px;
            border: none;
            background: var(--bg-cream);
            border-radius: 50%;
            cursor: pointer;
            font-size: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-body {
            padding: 20px;
            overflow-y: auto;
            max-height: calc(90vh - 60px);
        }

        .modal-title {
            font-family: 'Noto Serif TC', serif;
            font-size: 22px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .modal-address {
            font-size: 13px;
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            gap: 6px;
            margin-bottom: 20px;
        }

        /* Point & Speak Section */
        .speak-section {
            background: var(--bg-cream);
            border-radius: var(--radius-md);
            padding: 16px;
            margin-bottom: 20px;
        }

        .speak-header {
            font-size: 12px;
            color: var(--text-muted);
            letter-spacing: 1px;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .speak-item {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid var(--border-light);
            cursor: pointer;
            transition: background 0.2s;
        }

        .speak-item:last-child {
            border-bottom: none;
        }

        .speak-item:hover {
            background: rgba(255,255,255,0.5);
            margin: 0 -8px;
            padding: 12px 8px;
            border-radius: 8px;
        }

        .speak-zh {
            font-size: 14px;
        }

        .speak-jp {
            font-size: 14px;
            font-weight: 500;
        }

        /* Info Section */
        .info-section {
            margin-bottom: 20px;
        }

        .info-title {
            font-size: 12px;
            color: var(--text-muted);
            letter-spacing: 1px;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .info-content {
            font-size: 14px;
            line-height: 1.8;
            color: var(--text-secondary);
        }

        .info-content p {
            margin-bottom: 12px;
        }

        .info-content strong {
            color: var(--text-primary);
        }

        /* GPS Card */
        .gps-card {
            background: var(--bg-cream);
            border-radius: var(--radius-md);
            padding: 16px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .gps-icon {
            width: 40px;
            height: 40px;
            background: var(--bg-card);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .gps-info {
            flex: 1;
        }

        .gps-label {
            font-size: 11px;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .gps-number {
            font-size: 18px;
            font-weight: 600;
            font-family: 'Courier New', monospace;
        }

        /* Map Button */
        .map-btn {
            width: 100%;
            background: var(--accent-green);
            color: white;
            border: none;
            padding: 14px;
            border-radius: var(--radius-md);
            font-size: 15px;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: opacity 0.2s;
            font-family: inherit;
        }

        .map-btn:hover {
            opacity: 0.9;
        }

        /* Budget Tab */
        .budget-summary {
            background: var(--bg-card);
            border-radius: var(--radius-md);
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--shadow-soft);
        }

        .budget-total-label {
            font-size: 13px;
            color: var(--text-muted);
            margin-bottom: 4px;
        }

        .budget-total {
            font-size: 36px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .budget-total .currency {
            font-size: 20px;
        }

        .budget-per-person {
            font-size: 13px;
            color: var(--text-secondary);
        }

        .budget-filters {
            display: flex;
            gap: 8px;
            margin-bottom: 16px;
            overflow-x: auto;
            scrollbar-width: none;
        }

        .budget-filters::-webkit-scrollbar {
            display: none;
        }

        .budget-filter {
            padding: 8px 16px;
            border: 1px solid var(--border-light);
            border-radius: 20px;
            font-size: 13px;
            background: var(--bg-card);
            cursor: pointer;
            transition: all 0.2s;
            white-space: nowrap;
            font-family: inherit;
        }

        .budget-filter.active {
            background: var(--text-primary);
            color: white;
            border-color: var(--text-primary);
        }

        .budget-item {
            background: var(--bg-card);
            border-radius: var(--radius-md);
            padding: 16px;
            margin-bottom: 12px;
            box-shadow: var(--shadow-soft);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .budget-item-left {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .budget-item-icon {
            width: 40px;
            height: 40px;
            background: var(--bg-cream);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .budget-item-name {
            font-weight: 500;
            margin-bottom: 2px;
        }

        .budget-item-category {
            font-size: 12px;
            color: var(--text-muted);
        }

        .budget-item-amount {
            text-align: right;
        }

        .budget-item-price {
            font-weight: 600;
            font-size: 16px;
        }

        .budget-item-status {
            font-size: 11px;
            color: var(--accent-green);
        }

        /* Info Tab */
        .info-card {
            background: var(--bg-card);
            border-radius: var(--radius-md);
            padding: 20px;
            margin-bottom: 16px;
            box-shadow: var(--shadow-soft);
        }

        .info-card-title {
            font-weight: 600;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .emergency-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-bottom: 16px;
        }

        .emergency-item {
            background: var(--bg-cream);
            border-radius: var(--radius-sm);
            padding: 16px;
            text-align: center;
        }

        .emergency-label {
            font-size: 12px;
            color: var(--text-muted);
            margin-bottom: 4px;
        }

        .emergency-number {
            font-size: 28px;
            font-weight: 600;
            color: var(--accent-burgundy);
        }

        .hotline-item {
            padding: 16px;
            background: var(--bg-cream);
            border-radius: var(--radius-sm);
            margin-bottom: 12px;
        }

        .hotline-title {
            font-weight: 500;
            margin-bottom: 4px;
        }

        .hotline-subtitle {
            font-size: 12px;
            color: var(--text-muted);
            margin-bottom: 8px;
        }

        .hotline-number {
            font-size: 20px;
            font-weight: 600;
            font-family: 'Courier New', monospace;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .call-btn {
            width: 36px;
            height: 36px;
            background: var(--text-primary);
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Map Section */
        .map-section {
            background: var(--bg-card);
            border-radius: var(--radius-md);
            overflow: hidden;
            margin-bottom: 16px;
            box-shadow: var(--shadow-soft);
        }

        .map-header {
            padding: 12px 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .map-title {
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .map-count {
            font-size: 12px;
            background: var(--bg-cream);
            padding: 4px 10px;
            border-radius: 12px;
            color: var(--text-muted);
        }

        .map-container {
            height: 250px;
            background: #E8E4E0;
            position: relative;
        }

        .map-placeholder {
            position: absolute;
            inset: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: var(--text-muted);
        }

        .map-open-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 12px;
            border-top: 1px solid var(--border-light);
            color: var(--accent-blue);
            font-weight: 500;
            cursor: pointer;
            transition: background 0.2s;
        }

        .map-open-btn:hover {
            background: var(--bg-cream);
        }

        /* Bottom Preview Bar */
        .preview-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--bg-card);
            border-top: 1px solid var(--border-light);
            padding: 12px 16px;
            display: flex;
            align-items: center;
            gap: 12px;
            z-index: 50;
        }

        .preview-icon {
            width: 40px;
            height: 40px;
            background: var(--bg-cream);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-muted);
            font-size: 18px;
        }

        .preview-content {
            flex: 1;
        }

        .preview-time {
            font-size: 18px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .preview-badge {
            font-size: 10px;
            padding: 2px 8px;
            background: var(--bg-cream);
            border-radius: 4px;
            color: var(--text-muted);
        }

        .preview-title {
            font-size: 13px;
            color: var(--text-secondary);
        }

        .preview-next {
            text-align: right;
        }

        .preview-next-label {
            font-size: 11px;
            color: var(--text-muted);
        }

        .preview-next-time {
            font-size: 16px;
            font-weight: 500;
        }

        /* Tab Content */
        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Fullscreen Card (Point & Speak) */
        .fullscreen-card {
            position: fixed;
            inset: 0;
            background: var(--bg-cream);
            z-index: 2000;
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 40px;
        }

        .fullscreen-card.active {
            display: flex;
        }

        .fullscreen-close {
            position: absolute;
            top: 20px;
            font-size: 12px;
            color: var(--text-muted);
            letter-spacing: 2px;
        }

        .fullscreen-badge {
            position: absolute;
            top: 60px;
            right: 30px;
            font-size: 12px;
            color: var(--accent-burgundy);
            border: 1px solid var(--accent-burgundy);
            padding: 4px 12px;
            border-radius: 20px;
        }

        .fullscreen-text {
            font-family: 'Noto Serif TC', serif;
            font-size: 48px;
            font-weight: 600;
            text-align: center;
            line-height: 1.4;
        }

        .fullscreen-label {
            margin-top: 40px;
            font-size: 14px;
            color: var(--text-muted);
        }

        /* Animation */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .timeline-item {
            animation: fadeIn 0.4s ease forwards;
            opacity: 0;
        }

        .timeline-item:nth-child(1) { animation-delay: 0.1s; }
        .timeline-item:nth-child(2) { animation-delay: 0.2s; }
        .timeline-item:nth-child(3) { animation-delay: 0.3s; }
        .timeline-item:nth-child(4) { animation-delay: 0.4s; }
        .timeline-item:nth-child(5) { animation-delay: 0.5s; }
        .timeline-item:nth-child(6) { animation-delay: 0.6s; }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-top">
            <div class="trip-label">FAMILY TRIP</div>
            <div class="trip-title">
                å¤§é˜ªé—œè¥¿æ—…è¡Œ 
                <span class="year-badge">2025</span>
            </div>
        </div>
        <div class="calendar-strip" id="calendarStrip">
            <!-- Calendar days will be inserted here -->
        </div>
    </header>

    <!-- Tab Navigation -->
    <nav class="tab-nav">
        <button class="tab-btn active" data-tab="schedule">è¡Œç¨‹</button>
        <button class="tab-btn" data-tab="budget">å¸³æœ¬</button>
        <button class="tab-btn" data-tab="info">è³‡è¨Š</button>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Schedule Tab -->
        <div class="tab-content active" id="scheduleTab">
            <!-- Day Hero -->
            <div class="day-hero" id="dayHero">
                <img class="day-hero-image" src="https://images.unsplash.com/photo-1590559899731-a382839e5549?w=800&h=450&fit=crop" alt="å¤§é˜ª">
                <div class="day-hero-overlay"></div>
                <div class="day-hero-content">
                    <div class="day-badge">
                        <span>DAY 1</span>
                        <span>ğŸ“ å¤§é˜ªãƒ»é›£æ³¢</span>
                    </div>
                    <div class="day-title" id="heroTitle">å¿ƒé½‹æ©‹ã€æˆæ©‹ã€é“é “å €å¤œæ™¯</div>
                </div>
            </div>

            <!-- Weather Card -->
            <div class="weather-card">
                <div class="weather-header">
                    <div class="weather-location" id="weatherLocation">å¤§é˜ªå¸‚</div>
                    <div class="weather-source">Open-Meteo</div>
                </div>
                <div class="weather-forecast">
                    <div class="weather-item">
                        <div class="time">ç¾åœ¨</div>
                        <div class="icon">â˜€ï¸</div>
                        <div class="temp">12Â°</div>
                    </div>
                    <div class="weather-item">
                        <div class="time">14:00</div>
                        <div class="icon">â›…</div>
                        <div class="temp">14Â°</div>
                    </div>
                    <div class="weather-item">
                        <div class="time">17:00</div>
                        <div class="icon">ğŸŒ¤ï¸</div>
                        <div class="temp">11Â°</div>
                    </div>
                    <div class="weather-item">
                        <div class="time">20:00</div>
                        <div class="icon">ğŸŒ™</div>
                        <div class="temp">9Â°</div>
                    </div>
                    <div class="weather-item">
                        <div class="time">23:00</div>
                        <div class="icon">ğŸŒ™</div>
                        <div class="temp">8Â°</div>
                    </div>
                </div>
            </div>

            <!-- Timeline -->
            <div class="timeline" id="timeline">
                <!-- Timeline items will be inserted here -->
            </div>
        </div>

        <!-- Budget Tab -->
        <div class="tab-content" id="budgetTab">
            <div class="budget-summary">
                <div class="budget-total-label">ç¸½é‡‘é¡ (å°å¹£)</div>
                <div class="budget-total"><span class="currency">$</span><span id="totalBudget">0</span></div>
                <div class="budget-per-person">æ¯äººå‡æ”¤: <span id="perPerson">$0</span></div>
            </div>

            <div class="budget-filters">
                <button class="budget-filter active" data-filter="all">å…¨éƒ¨</button>
                <button class="budget-filter" data-filter="transport">äº¤é€š</button>
                <button class="budget-filter" data-filter="food">é¤é£²</button>
                <button class="budget-filter" data-filter="activity">é–€ç¥¨</button>
            </div>

            <div id="budgetList">
                <!-- Budget items will be inserted here -->
            </div>
        </div>

        <!-- Info Tab -->
        <div class="tab-content" id="infoTab">
            <!-- Map Section -->
            <div class="map-section">
                <div class="map-header">
                    <div class="map-title">ğŸ—ºï¸ å…¨è¡Œç¨‹åœ°åœ–</div>
                    <div class="map-count" id="mapCount">20 å€‹åœç•™é»</div>
                </div>
                <div class="map-container">
                    <div class="map-placeholder">
                        <div style="font-size: 48px; margin-bottom: 8px;">ğŸ—¾</div>
                        <div>å¤§é˜ªãƒ»äº¬éƒ½ãƒ»å¥ˆè‰¯</div>
                    </div>
                </div>
                <div class="map-open-btn" onclick="openGoogleMaps()">
                    ğŸ”— é–‹å•Ÿ Google Maps å°èˆª
                </div>
            </div>

            <!-- Visit Japan Web -->
            <div class="info-card" style="background: #2C2C2C; color: white;">
                <div style="font-size: 11px; letter-spacing: 1px; margin-bottom: 8px; color: rgba(255,255,255,0.6);">MUST HAVE</div>
                <div class="info-card-title" style="font-size: 20px; margin-bottom: 4px;">
                    Visit Japan Web
                    <span style="margin-left: auto; font-size: 20px;">â†—</span>
                </div>
                <div style="font-size: 13px; color: rgba(255,255,255,0.7);">å…¥å¢ƒå¯©æŸ¥ & æµ·é—œç”³å ± (è«‹æˆªåœ– QR Code)</div>
            </div>

            <!-- Emergency -->
            <div class="info-card">
                <div class="info-card-title">ğŸš¨ ç·Šæ€¥è¯çµ¡ & æ”¯æ´</div>
                <div class="emergency-grid">
                    <div class="emergency-item">
                        <div class="emergency-label">è­¦å¯Ÿ (POLICE)</div>
                        <div class="emergency-number">110</div>
                    </div>
                    <div class="emergency-item">
                        <div class="emergency-label">æ•‘è­·/ç«è­¦</div>
                        <div class="emergency-number">119</div>
                    </div>
                </div>
                <div class="hotline-item">
                    <div class="hotline-title">è¨ªæ—¥å¤–åœ‹äºº</div>
                    <div class="hotline-title">é†«ç™‚ & æ€¥é›£ç†±ç·š</div>
                    <div class="hotline-subtitle">JAPAN VISITOR HOTLINE (JNTO)</div>
                    <div class="hotline-number">
                        050-3816-2787
                        <button class="call-btn">ğŸ“</button>
                    </div>
                    <div style="font-size: 11px; color: var(--text-muted); margin-top: 8px;">* 24å°æ™‚å°æ‡‰ (è‹±/ä¸­/éŸ“)ã€‚ç”Ÿç—…å—å‚·æˆ–ç™¼ç”Ÿäº‹æ•…æ™‚å¯æ’¥æ‰“ã€‚</div>
                </div>
                <div class="hotline-item">
                    <div style="display: inline-block; padding: 2px 8px; background: var(--accent-burgundy); color: white; font-size: 11px; border-radius: 4px; margin-bottom: 8px;">å¤–äº¤éƒ¨</div>
                    <div class="hotline-title">å°åŒ—é§å¤§é˜ªç¶“æ¿Ÿæ–‡åŒ–è¾¦äº‹è™•</div>
                    <div class="hotline-number" style="font-size: 16px;">06-6443-8481 (ä¸Šç­æ™‚é–“)</div>
                    <div class="hotline-number" style="font-size: 16px; color: var(--accent-burgundy);">090-8794-4568 (æ€¥é›£æ•‘åŠ©)</div>
                </div>
            </div>

            <!-- Transport Cards -->
            <div class="info-card">
                <div class="info-card-title">ğŸš— äº¤é€šå¡ç‰‡</div>
                <div style="background: var(--bg-cream); padding: 16px; border-radius: var(--radius-sm); margin-bottom: 12px;">
                    <div style="font-size: 11px; color: var(--text-muted); margin-bottom: 8px;">çµ¦å¸æ©Ÿ (TO DRIVER)</div>
                    <div style="font-size: 20px; font-weight: 500;">ã“ã“ã¸è¡Œã£ã¦ãã ã•ã„ã€‚</div>
                    <div style="font-size: 12px; color: var(--text-muted);">(è«‹è¼‰æˆ‘åˆ°é€™è£¡)</div>
                </div>
            </div>
        </div>
    </main>

    <!-- Preview Bar -->
    <div class="preview-bar" id="previewBar">
        <div class="preview-icon">ğŸ“</div>
        <div class="preview-content">
            <div class="preview-time">
                <span id="previewTime">14:30</span>
                <span class="preview-badge">è¡Œç¨‹é è¦½</span>
            </div>
            <div class="preview-title" id="previewTitle">æ¢…ç”°ç©ºä¸­åº­åœ’ã€HEP FIVEæ‘©å¤©è¼ª</div>
        </div>
        <div class="preview-next">
            <div class="preview-next-label">ä¸‹å€‹æ™‚é–“</div>
            <div class="preview-next-time" id="previewNextTime">19:30</div>
        </div>
    </div>

    <!-- Detail Modal -->
    <div class="modal-overlay" id="modalOverlay">
        <div class="modal">
            <div class="modal-header">
                <div class="modal-header-left">
                    <span class="modal-category" id="modalCategory">SIGHTSEEING</span>
                    <span class="modal-time" id="modalTime">09:00</span>
                </div>
                <button class="modal-close" onclick="closeModal()">Ã—</button>
            </div>
            <div class="modal-body">
                <h2 class="modal-title" id="modalTitle">é€šå¤©é–£</h2>
                <div class="modal-address" id="modalAddress">
                    ğŸ“ <span>å¤§é˜ªå¸‚æµªé€ŸåŒºæµç¾é ˆæ±1-18-6</span>
                </div>

                <!-- Point & Speak -->
                <div class="speak-section" id="speakSection">
                    <div class="speak-header">
                        <span>ğŸ—£ï¸</span>
                        <span>æŒ‡å·®ã—ä¼šè©± (POINT & SPEAK)</span>
                    </div>
                    <div id="speakItems">
                        <!-- Speak items will be inserted here -->
                    </div>
                </div>

                <!-- GPS Info -->
                <div class="gps-card" id="gpsCard" style="display: none;">
                    <div class="gps-icon">ğŸ“</div>
                    <div class="gps-info">
                        <div class="gps-label">CAR GPS / PHONE</div>
                        <div class="gps-number" id="gpsNumber">06-6641-9555</div>
                    </div>
                </div>

                <!-- Info Section -->
                <div class="info-section">
                    <div class="info-title">
                        <span>â„¹ï¸</span>
                        <span>é—œæ–¼æ­¤è™• (ABOUT)</span>
                    </div>
                    <div class="info-content" id="modalInfo">
                        <!-- Info content will be inserted here -->
                    </div>
                </div>

                <!-- Map Button -->
                <button class="map-btn" id="mapBtn" onclick="openLocationMap()">
                    ğŸ—ºï¸ é–‹å•Ÿ Google Maps å°èˆª
                </button>
            </div>
        </div>
    </div>

    <!-- Fullscreen Card -->
    <div class="fullscreen-card" id="fullscreenCard">
        <div class="fullscreen-close">TAP TO CLOSE</div>
        <div class="fullscreen-badge">é—œè¥¿</div>
        <div class="fullscreen-text" id="fullscreenText">é€šå¤©é–£</div>
        <div class="fullscreen-label">çµ¦åº—å“¡çœ‹çš„æ”¾å¤§å­—å¡</div>
    </div>

    <script>
        // Trip Data
        const tripData = {
            startDate: new Date('2025-03-15'),
            days: 7,
            schedule: [
                // Day 1
                {
                    day: 1,
                    title: 'é—œè¥¿æ©Ÿå ´â†’é›£æ³¢',
                    location: 'å¤§é˜ªãƒ»é›£æ³¢',
                    image: 'https://images.unsplash.com/photo-1590559899731-a382839e5549?w=800&h=450&fit=crop',
                    items: [
                        {
                            time: 'ä¸‹åˆ',
                            title: 'é—œè¥¿æ©Ÿå ´â†’é›£æ³¢',
                            category: 'transport',
                            location: 'å—æµ·é›»éµç©ºæ¸¯æ€¥è¡Œ',
                            price: 920,
                            desc: 'æ­ä¹˜å—æµ·é›»éµç©ºæ¸¯æ€¥è¡Œå¾é—œè¥¿æ©Ÿå ´å‰å¾€é›£æ³¢ç«™ï¼Œè»Šç¨‹ç´„45åˆ†é˜ã€‚å»ºè­°è³¼è²·å¤§é˜ªå‘¨éŠå¡æˆ–ICOCAã€‚',
                            speak: [
                                { zh: 'é›£æ³¢ç«™', jp: 'é›£æ³¢é§…ï¼ˆãªã‚“ã° ãˆãï¼‰' },
                                { zh: 'ç©ºæ¸¯æ€¥è¡Œ', jp: 'ç©ºæ¸¯æ€¥è¡Œï¼ˆãã†ã“ã†ãã‚…ã†ã“ã†ï¼‰' }
                            ]
                        },
                        {
                            time: 'å‚æ™š',
                            title: 'å¿ƒé½‹æ©‹ã€æˆæ©‹ã€é“é “å €å¤œæ™¯',
                            category: 'sightseeing',
                            location: 'å¤§é˜ªå¸‚ä¸­å¤®åŒºå¿ƒæ–æ©‹ç­‹',
                            price: 0,
                            desc: 'ã€å¿…è¨ªæ™¯é»ã€‘é“é “å €æ˜¯å¤§é˜ªæœ€è‘—åçš„ç¾é£Ÿè¡—ï¼Œä»¥å·¨å¤§çš„èƒèŸ¹æ‹›ç‰Œå’Œæ ¼åŠ›é«˜è·‘æ­¥äººå»£å‘Šèåã€‚å‚æ™šæ™‚åˆ†éœ“è™¹ç‡ˆäº®èµ·ï¼Œæ˜¯æ‹ç…§çš„æœ€ä½³æ™‚æ©Ÿã€‚',
                            phone: '06-6211-4542',
                            speak: [
                                { zh: 'é“é “å €', jp: 'é“é “å €ï¼ˆã©ã†ã¨ã‚“ã¼ã‚Šï¼‰' },
                                { zh: 'å›ºåŠ›æœçœ‹æ¿', jp: 'ã‚°ãƒªã‚³ã‚µã‚¤ãƒ³' }
                            ]
                        }
                    ]
                },
                // Day 2
                {
                    day: 2,
                    title: 'é€šå¤©é–£ãƒ»å¤§é˜ªåŸãƒ»é˜¿å€é‡Harukas',
                    location: 'å¤§é˜ªå¸‚å€',
                    image: 'https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?w=800&h=450&fit=crop',
                    items: [
                        {
                            time: '09:00',
                            endTime: '11:00',
                            title: 'é€šå¤©é–£ï¼ˆæƒ ç¾é ˆç”ºç«™ï¼‰',
                            category: 'sightseeing',
                            location: 'å¤§é˜ªå¸‚æµªé€ŸåŒºæµç¾é ˆæ±1-18-6',
                            price: 230,
                            desc: 'ã€å¤§é˜ªåœ°æ¨™ã€‘é€šå¤©é–£æ˜¯å¤§é˜ªæ–°ä¸–ç•Œçš„è±¡å¾µï¼Œé«˜103ç±³ã€‚é ‚å±¤å±•æœ›å°å¯çœºæœ›å¤§é˜ªå¸‚æ™¯ï¼Œå…§éƒ¨æœ‰æ‹›ç¦çš„æ¯”åˆ©è‚¯ç¥åƒï¼Œæ‘¸å…¶è…³åº•æ“šèªªèƒ½å¸¶ä¾†å¥½é‹ã€‚',
                            phone: '06-6641-9555',
                            speak: [
                                { zh: 'å±•æœ›å°é–€ç¥¨', jp: 'å±•æœ›å°ãƒã‚±ãƒƒãƒˆ' },
                                { zh: 'æ¯”åˆ©è‚¯ç¥', jp: 'ãƒ“ãƒªã‚±ãƒ³ã•ã‚“' }
                            ]
                        },
                        {
                            time: '11:30',
                            endTime: '13:00',
                            title: 'å¤§é˜ªåŸå¤©å®ˆé–£ï¼ˆæ£®ä¹‹å®®ç«™ï¼‰',
                            category: 'sightseeing',
                            location: 'å¤§é˜ªå¸‚ä¸­å¤®åŒºå¤§é˜ªåŸ1-1',
                            price: 280,
                            desc: 'ã€æ­·å²åœ°ä½ã€‘å¤§é˜ªåŸç”±è±è‡£ç§€å‰æ–¼1583å¹´å»ºé€ ï¼Œèˆ‡åå¤å±‹åŸã€ç†Šæœ¬åŸä¸¦åˆ—ã€Œæ—¥æœ¬ä¸‰å¤§ååŸã€ã€‚å¤©å®ˆé–£å…§éƒ¨å±•ç¤ºè±è‡£ç§€å‰èˆ‡å¤§é˜ªåŸæ­·å²ã€‚',
                            phone: '06-6941-3044',
                            speak: [
                                { zh: 'å¤©å®ˆé–£', jp: 'å¤©å®ˆé–£ï¼ˆã¦ã‚“ã—ã‚…ã‹ãï¼‰' },
                                { zh: 'å…¥å ´åˆ¸', jp: 'å…¥å ´åˆ¸ï¼ˆã«ã‚…ã†ã˜ã‚‡ã†ã‘ã‚“ï¼‰' }
                            ]
                        },
                        {
                            time: '14:30',
                            endTime: '17:00',
                            title: 'æ¢…ç”°ç©ºä¸­åº­åœ’ã€HEP FIVEæ‘©å¤©è¼ª',
                            category: 'sightseeing',
                            location: 'å¤§é˜ªå¸‚åŒ—åŒºæ¢…ç”°',
                            price: 230,
                            desc: 'ã€å»ºç¯‰å¥‡è§€ã€‘æ¢…ç”°è—å¤©å¤§å»ˆçš„ç©ºä¸­åº­åœ’æ˜¯ä¸–ç•Œä¸Šé€£æ¥å…©æ£Ÿå¤§æ¨“çš„æœ€é«˜å±•æœ›å°ï¼Œ173ç±³é«˜çš„è§€æ™¯å°å¯360åº¦ä¿¯ç°å¤§é˜ªã€‚HEP FIVEçš„ç´…è‰²æ‘©å¤©è¼ªå‰‡æ˜¯æ¢…ç”°åœ°æ¨™ã€‚',
                            phone: '06-6440-3899',
                            speak: [
                                { zh: 'ç©ºä¸­åº­åœ’', jp: 'ç©ºä¸­åº­åœ’ï¼ˆãã†ã¡ã‚…ã†ã¦ã„ãˆã‚“ï¼‰' },
                                { zh: 'æ‘©å¤©è¼ª', jp: 'è¦³è¦§è»Šï¼ˆã‹ã‚“ã‚‰ã‚“ã—ã‚ƒï¼‰' }
                            ]
                        },
                        {
                            time: '19:30',
                            endTime: '21:00',
                            title: 'é˜¿å€é‡Harukaså¤œæ™¯ï¼ˆå¤©ç‹å¯ºç«™ï¼‰',
                            category: 'sightseeing',
                            location: 'å¤§é˜ªå¸‚é˜¿å€é‡åŒºé˜¿å€é‡ç­‹1-1-43',
                            price: 230,
                            desc: 'ã€æ—¥æœ¬ç¬¬ä¸€é«˜æ¨“ã€‘é˜¿å€é‡Harukasé«˜300ç±³ï¼Œæ˜¯æ—¥æœ¬æœ€é«˜çš„æ‘©å¤©å¤§æ¨“ã€‚60æ¨“çš„Harukas 300å±•æœ›å°æä¾›å£¯è§€çš„å¤œæ™¯ï¼Œå¯é çœºå¤§é˜ªç£ã€æ˜çŸ³æµ·å³½å¤§æ©‹ã€‚',
                            phone: '06-6621-0300',
                            speak: [
                                { zh: 'å±•æœ›å°', jp: 'ãƒãƒ«ã‚«ã‚¹300' },
                                { zh: 'å¤œæ™¯', jp: 'å¤œæ™¯ï¼ˆã‚„ã‘ã„ï¼‰' }
                            ]
                        }
                    ]
                },
                // Day 3
                {
                    day: 3,
                    title: 'åµå±±ãƒ»å®‡æ²»',
                    location: 'äº¬éƒ½åµå±±ãƒ»å®‡æ²»',
                    image: 'https://images.unsplash.com/photo-1545569341-9eb8b30979d9?w=800&h=450&fit=crop',
                    items: [
                        {
                            time: '08:00',
                            endTime: '12:00',
                            title: 'åµå±±ç«¹æ—ã€å¤©é¾å¯ºã€æ¸¡æœˆæ©‹',
                            category: 'sightseeing',
                            location: 'äº¬éƒ½å¸‚å³äº¬åŒºåµ¯å³¨å¤©é¾å¯º',
                            price: 400,
                            desc: 'ã€ä¸–ç•Œéºç”¢ã€‘åµå±±æ˜¯äº¬éƒ½æœ€å…·ä»£è¡¨æ€§çš„æ™¯é»ä¹‹ä¸€ã€‚ç«¹æ—å°å¾‘æ¸…å¹½éœè¬ï¼Œå¤©é¾å¯ºæ˜¯ä¸–ç•Œéºç”¢ï¼Œæ¸¡æœˆæ©‹å‰‡æ˜¯åµå±±çš„è±¡å¾µã€‚å»ºè­°ä¸€æ—©å‰å¾€é¿é–‹äººæ½®ã€‚',
                            phone: '075-881-1235',
                            speak: [
                                { zh: 'ç«¹æ—', jp: 'ç«¹æ—ï¼ˆã¡ãã‚Šã‚“ï¼‰' },
                                { zh: 'æ¸¡æœˆæ©‹', jp: 'æ¸¡æœˆæ©‹ï¼ˆã¨ã’ã¤ãã‚‡ã†ï¼‰' }
                            ]
                        },
                        {
                            time: '13:00',
                            endTime: '15:30',
                            title: 'å®‡æ²»å¹³ç­‰é™¢é³³å‡°å ‚ã€å®‡æ²»å·æ•£æ­¥ã€æŠ¹èŒ¶ç”œé»',
                            category: 'sightseeing',
                            location: 'äº¬éƒ½åºœå®‡æ²»å¸‚å®‡æ²»è“®è¯116',
                            price: 230,
                            desc: 'ã€ä¸–ç•Œéºç”¢ã€‘å¹³ç­‰é™¢æ˜¯æ—¥æœ¬åœ‹å¯¶ï¼Œååœ“ç¡¬å¹£ä¸Šçš„åœ–æ¡ˆå°±æ˜¯é³³å‡°å ‚ã€‚å®‡æ²»æ˜¯æ—¥æœ¬èŒ¶çš„ç™¼æºåœ°ï¼Œå¿…åšæ­£å®—æŠ¹èŒ¶ç”œé»ã€‚æ¨è–¦ä¸­æ‘è—¤å‰æœ¬åº—ã€‚',
                            phone: '0774-21-2861',
                            speak: [
                                { zh: 'é³³å‡°å ‚', jp: 'é³³å‡°å ‚ï¼ˆã»ã†ãŠã†ã©ã†ï¼‰' },
                                { zh: 'æŠ¹èŒ¶', jp: 'æŠ¹èŒ¶ï¼ˆã¾ã£ã¡ã‚ƒï¼‰' }
                            ]
                        },
                        {
                            time: 'æ™šä¸Š',
                            title: 'ç¥‡åœ’å¤œæ™¯ï¼ˆå¯é¸ï¼‰',
                            category: 'sightseeing',
                            location: 'äº¬éƒ½å¸‚æ±å±±åŒºç¥‡åœ’',
                            price: 230,
                            desc: 'ã€è—å¦“è¡—ã€‘ç¥‡åœ’æ˜¯äº¬éƒ½æœ€è‘—åçš„èŠ±è¡—ï¼Œå‚³çµ±ç”ºå®¶å»ºç¯‰æ—ç«‹ã€‚å‚æ™šæ™‚åˆ†å¯èƒ½å·§é‡è¶•å ´çš„è—å¦“æˆ–èˆå¦“ã€‚èŠ±è¦‹å°è·¯æ˜¯æœ€å…·ä»£è¡¨æ€§çš„è¡—é“ã€‚',
                            speak: [
                                { zh: 'ç¥‡åœ’', jp: 'ç¥‡åœ’ï¼ˆããŠã‚“ï¼‰' },
                                { zh: 'èŠ±è¦‹å°è·¯', jp: 'èŠ±è¦‹å°è·¯ï¼ˆã¯ãªã¿ã“ã†ã˜ï¼‰' }
                            ]
                        }
                    ]
                },
                // Day 4
                {
                    day: 4,
                    title: 'å¤©æ©‹ç«‹ãƒ»ä¼Šæ ¹èˆŸå±‹',
                    location: 'äº¬éƒ½åºœåŒ—éƒ¨',
                    image: 'https://images.unsplash.com/photo-1528360983277-13d401cdc186?w=800&h=450&fit=crop',
                    items: [
                        {
                            time: '06:00',
                            endTime: '10:00',
                            title: 'å¤§é˜ªâ†’å¤©æ©‹ç«‹ï¼ˆJRæˆ–é«˜é€Ÿå·´å£«ï¼‰',
                            category: 'transport',
                            location: 'JRè¥¿æ—¥æœ¬ç‰¹æ€¥ï¼ˆã¯ã—ã ã¦å·ï¼‰',
                            price: 4000,
                            desc: 'ã€äº¤é€šå»ºè­°ã€‘å¾å¤§é˜ªå‡ºç™¼å¯é¸æ“‡JRç‰¹æ€¥ã€Œã¯ã—ã ã¦ã€è™Ÿç›´é”å¤©æ©‹ç«‹ï¼Œè»Šç¨‹ç´„2.5å°æ™‚ã€‚æˆ–æ­ä¹˜é«˜é€Ÿå·´å£«ï¼Œè¼ƒç¶“æ¿Ÿä½†æ™‚é–“è¼ƒé•·ã€‚å»ºè­°æå‰è³¼ç¥¨ã€‚',
                            speak: [
                                { zh: 'å¤©æ©‹ç«‹', jp: 'å¤©æ©‹ç«‹ï¼ˆã‚ã¾ã®ã¯ã—ã ã¦ï¼‰' },
                                { zh: 'ç‰¹æ€¥åˆ—è»Š', jp: 'ç‰¹æ€¥ï¼ˆã¨ã£ãã‚…ã†ï¼‰' }
                            ]
                        },
                        {
                            time: '10:00',
                            endTime: '13:00',
                            title: 'å¤©æ©‹ç«‹æ•£æ­¥ã€è§€æ™¯å°',
                            category: 'sightseeing',
                            location: 'äº¬éƒ½åºœå®®æ´¥å¸‚å¤©æ©‹ç«‹',
                            price: 800,
                            desc: 'ã€æ—¥æœ¬ä¸‰æ™¯ã€‘å¤©æ©‹ç«‹æ˜¯æ—¥æœ¬ä¸‰æ™¯ä¹‹ä¸€ï¼Œå…¨é•·3.6å…¬é‡Œçš„æ²™æ´²ä¸Šç¨®æ»¿æ¾æ¨¹ã€‚æ­ä¹˜çºœè»Šä¸Šå±±ï¼Œå¾ã€Œè‚¡è¦—ã€å€’çœ‹å¤©æ©‹ç«‹ï¼Œå®›å¦‚é£›é¾æ˜‡å¤©çš„æ™¯è±¡ã€‚',
                            phone: '0772-22-8030',
                            speak: [
                                { zh: 'çºœè»Š', jp: 'ã‚±ãƒ¼ãƒ–ãƒ«ã‚«ãƒ¼' },
                                { zh: 'è‚¡è¦—', jp: 'è‚¡ã®ããï¼ˆã¾ãŸã®ããï¼‰' }
                            ]
                        },
                        {
                            time: '13:00',
                            endTime: '16:00',
                            title: 'ä¼Šæ ¹èˆŸå±‹è§€å…‰',
                            category: 'sightseeing',
                            location: 'äº¬éƒ½åºœä¸è¬éƒ¡ä¼Šæ ¹ç”º',
                            price: 750,
                            desc: 'ã€é‡è¦å‚³çµ±å»ºé€ ç‰©ã€‘ä¼Šæ ¹èˆŸå±‹æ˜¯æ—¥æœ¬æµ·æ²¿å²¸ç¨ç‰¹çš„æ¼æ‘æ™¯è§€ï¼Œ230æ£Ÿå‚³çµ±æœ¨é€ æˆ¿å±‹ä¸€æ¨“åœèˆ¹ã€äºŒæ¨“ä½äººã€‚å¯æ­ä¹˜éŠè¦½èˆ¹å¾æµ·ä¸Šæ¬£è³é€™å¹…å¦‚ç•«çš„é¢¨æ™¯ã€‚',
                            phone: '0772-32-0277',
                            speak: [
                                { zh: 'èˆŸå±‹', jp: 'èˆŸå±‹ï¼ˆãµãªã‚„ï¼‰' },
                                { zh: 'éŠè¦½èˆ¹', jp: 'éŠè¦§èˆ¹ï¼ˆã‚†ã†ã‚‰ã‚“ã›ã‚“ï¼‰' }
                            ]
                        },
                        {
                            time: '16:00',
                            endTime: '19:00',
                            title: 'è¿”å›å¤§é˜ª',
                            category: 'transport',
                            location: 'JRæˆ–é«˜é€Ÿå·´å£«',
                            price: 4000,
                            desc: 'æ­ä¹˜JRç‰¹æ€¥æˆ–é«˜é€Ÿå·´å£«è¿”å›å¤§é˜ªã€‚å»ºè­°åœ¨å¤©æ©‹ç«‹ç«™é™„è¿‘ç”¨å®Œæ™šé¤å¾Œå†è¿”ç¨‹ï¼Œå¯å“åšç•¶åœ°çš„ä¸¹å¾ŒèŸ¹æ–™ç†ã€‚',
                            speak: [
                                { zh: 'å¤§é˜ª', jp: 'å¤§é˜ªï¼ˆãŠãŠã•ã‹ï¼‰' },
                                { zh: 'è¿”ç¨‹', jp: 'å¸°ã‚Šï¼ˆã‹ãˆã‚Šï¼‰' }
                            ]
                        }
                    ]
                },
                // Day 5
                {
                    day: 5,
                    title: 'äº¬éƒ½æ±å±±ãƒ»è²´èˆ¹ç¥ç¤¾',
                    location: 'äº¬éƒ½',
                    image: 'https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?w=800&h=450&fit=crop',
                    items: [
                        {
                            time: '08:00',
                            endTime: '12:00',
                            title: 'äº¬éƒ½æ±å±±ï¼ˆå…«å‚ç¥ç¤¾ã€æ¸…æ°´å¯ºã€äºŒå¹´å‚ï¼‰',
                            category: 'sightseeing',
                            location: 'äº¬éƒ½å¸‚æ±å±±åŒº',
                            price: 230,
                            desc: 'ã€å¿…è¨ªè·¯ç·šã€‘å¾å…«å‚ç¥ç¤¾å‡ºç™¼ï¼Œæ²¿è‘—äºŒå¹´å‚ã€ä¸‰å¹´å‚æ­¥è¡Œè‡³æ¸…æ°´å¯ºï¼Œæ˜¯äº¬éƒ½æœ€ç¶“å…¸çš„æ•£æ­¥è·¯ç·šã€‚æ²¿é€”æœ‰è¨±å¤šå‚³çµ±å•†åº—å’Œç”ºå®¶å’–å•¡å»³ã€‚æ¸…æ°´èˆå°æ˜¯å¿…æ‹æ™¯é»ã€‚',
                            phone: '075-551-1234',
                            speak: [
                                { zh: 'æ¸…æ°´å¯º', jp: 'æ¸…æ°´å¯ºï¼ˆãã‚ˆã¿ãšã§ã‚‰ï¼‰' },
                                { zh: 'å¾¡å®ˆ', jp: 'ãŠå®ˆã‚Šï¼ˆãŠã¾ã‚‚ã‚Šï¼‰' }
                            ]
                        },
                        {
                            time: '13:00',
                            endTime: '16:00',
                            title: 'è²´èˆ¹ç¥ç¤¾',
                            category: 'sightseeing',
                            location: 'äº¬éƒ½å¸‚å·¦äº¬åŒºéé¦¬è²´èˆ¹ç”º180',
                            price: 400,
                            desc: 'ã€çµç·£è–åœ°ã€‘è²´èˆ¹ç¥ç¤¾æ˜¯æ—¥æœ¬å…¨åœ‹ç´„500åº§è²´èˆ¹ç¥ç¤¾çš„ç¸½æœ¬ç¤¾ï¼Œä»¥æ°´å åœèåã€‚åƒé“å…©æ—çš„ç´…ç‡ˆç± åœ¨ç¶ è”­ä¸­ç‰¹åˆ¥å¤¢å¹»ï¼Œæ˜¯IGç†±é–€æ‰“å¡é»ã€‚',
                            phone: '075-741-2016',
                            speak: [
                                { zh: 'æ°´å åœ', jp: 'æ°´å ã„ï¼ˆã¿ãšã†ã‚‰ãªã„ï¼‰' },
                                { zh: 'çµç·£', jp: 'ç¸çµã³ï¼ˆãˆã‚“ã‚€ã™ã³ï¼‰' }
                            ]
                        },
                        {
                            time: 'å‚æ™š',
                            title: 'è¿”å›äº¬éƒ½æˆ–å¤§é˜ª',
                            category: 'transport',
                            location: 'å…¬è»Šæˆ–JR',
                            price: 500,
                            desc: 'å¾è²´èˆ¹æ­ä¹˜å¡å±±é›»è»Šå›å‡ºç”ºæŸ³ç«™ï¼Œå†è½‰ä¹˜äº¬é˜ªé›»è»Šæˆ–JRè¿”å›å¤§é˜ªã€‚å¦‚æœæ™‚é–“å……è£•ï¼Œå¯ä»¥åœ¨æ²³åŸç”ºæˆ–å››æ¢çƒä¸¸é€›è¡—ç”¨é¤ã€‚',
                            speak: [
                                { zh: 'å¡å±±é›»è»Š', jp: 'å¡å±±é›»è»Šï¼ˆãˆã„ã–ã‚“ã§ã‚“ã—ã‚ƒï¼‰' }
                            ]
                        }
                    ]
                },
                // Day 6
                {
                    day: 6,
                    title: 'å‹å°¾å¯ºãƒ»å¥ˆè‰¯',
                    location: 'ç®•é¢ãƒ»å¥ˆè‰¯',
                    image: 'https://images.unsplash.com/photo-1624253321171-1be53e12f5f4?w=800&h=450&fit=crop',
                    items: [
                        {
                            time: '08:00',
                            endTime: '11:00',
                            title: 'å‹å°¾å¯ºç¥ˆç¦ï¼ˆé˜ªæ€¥å¯¶å¡šç·šï¼‰',
                            category: 'sightseeing',
                            location: 'å¤§é˜ªåºœç®•é¢å¸‚å‹å°¾å¯º',
                            price: 425,
                            desc: 'ã€å‹é‹ç¥ˆé¡˜ã€‘å‹å°¾å¯ºä»¥ã€Œå‹é‹ã€èåï¼Œå¯ºå…§æ“ºæ»¿äº†è¨±é¡˜é”æˆçš„é”æ‘©ä¸å€’ç¿ï¼Œæ™¯è±¡å£¯è§€ã€‚æ“šèªªåœ¨è€ƒè©¦ã€æ¯”è³½ã€äº‹æ¥­ä¸Šç¥ˆé¡˜ç‰¹åˆ¥éˆé©—ã€‚',
                            phone: '072-721-7010',
                            speak: [
                                { zh: 'é”æ‘©', jp: 'ã ã‚‹ã¾' },
                                { zh: 'å‹é‹ç¥ˆé¡˜', jp: 'å‹é‹ç¥ˆé¡˜ï¼ˆã—ã‚‡ã†ã†ã‚“ããŒã‚“ï¼‰' }
                            ]
                        },
                        {
                            time: '12:00',
                            endTime: '16:00',
                            title: 'å¥ˆè‰¯åŠæ—¥éŠï¼ˆæ±å¤§å¯ºã€å¥ˆè‰¯å…¬åœ’ï¼‰',
                            category: 'sightseeing',
                            location: 'å¥ˆè‰¯çœŒå¥ˆè‰¯å¸‚',
                            price: 620,
                            desc: 'ã€ä¸–ç•Œéºç”¢ã€‘æ±å¤§å¯ºçš„å¤§ä½›æ®¿æ˜¯ä¸–ç•Œæœ€å¤§çš„æœ¨é€ å»ºç¯‰ï¼Œå…§æœ‰é«˜15ç±³çš„ç›§èˆé‚£å¤§ä½›ã€‚å¥ˆè‰¯å…¬åœ’æœ‰è¶…é1000é ­æº«é¦´çš„é¹¿ï¼Œå¯è³¼è²·é¹¿ä»™è²é¤µé£Ÿã€‚',
                            phone: '0742-22-5511',
                            speak: [
                                { zh: 'æ±å¤§å¯º', jp: 'æ±å¤§å¯ºï¼ˆã¨ã†ã ã„ã˜ï¼‰' },
                                { zh: 'é¹¿ä»™è²', jp: 'é¹¿ã›ã‚“ã¹ã„ï¼ˆã—ã‹ã›ã‚“ã¹ã„ï¼‰' }
                            ]
                        },
                        {
                            time: '17:00',
                            endTime: '19:00',
                            title: 'é»‘é–€å¸‚å ´æ™šé¤',
                            category: 'food',
                            location: 'å¤§é˜ªå¸‚ä¸­å¤®åŒºæ—¥æœ¬æ©‹',
                            price: 0,
                            desc: 'ã€å¤§é˜ªçš„å»šæˆ¿ã€‘é»‘é–€å¸‚å ´æœ‰190å¹´æ­·å²ï¼Œè¢«ç¨±ç‚ºã€Œå¤§é˜ªçš„å»šæˆ¿ã€ã€‚é€™è£¡å¯ä»¥å“åšåˆ°æœ€æ–°é®®çš„æµ·é®®ã€æ²³è±šã€å’Œç‰›ç­‰ç¾é£Ÿã€‚æ¨è–¦è©¦è©¦ç¾çƒ¤å¸ç‹èŸ¹è…³ã€‚',
                            phone: '06-6631-0007',
                            speak: [
                                { zh: 'é»‘é–€å¸‚å ´', jp: 'é»’é–€å¸‚å ´ï¼ˆãã‚ã‚‚ã‚“ã„ã¡ã°ï¼‰' },
                                { zh: 'å¸ç‹èŸ¹', jp: 'ã‚¿ãƒ©ãƒã‚¬ãƒ‹' }
                            ]
                        }
                    ]
                },
                // Day 7
                {
                    day: 7,
                    title: 'é›£æ³¢è³¼ç‰©ãƒ»å›ç¨‹',
                    location: 'å¤§é˜ªãƒ»é—œè¥¿æ©Ÿå ´',
                    image: 'https://images.unsplash.com/photo-1536098561742-ca998e48cbcc?w=800&h=450&fit=crop',
                    items: [
                        {
                            time: 'ä¸Šåˆ',
                            title: 'å¿ƒé½‹æ©‹ã€é›£æ³¢è³¼ç‰©æ¡è²·',
                            category: 'sightseeing',
                            location: 'å¤§é˜ªå¸‚ä¸­å¤®åŒºå¿ƒæ–æ©‹ç­‹',
                            price: 0,
                            desc: 'ã€è³¼ç‰©å¤©å ‚ã€‘å¿ƒé½‹æ©‹ç­‹å•†åº—è¡—æ˜¯å¤§é˜ªæœ€å¤§çš„è³¼ç‰©è¡—ï¼Œå¾é«˜ç«¯å“ç‰Œåˆ°å¹³åƒ¹è—¥å¦æ‡‰æœ‰ç›¡æœ‰ã€‚é›£æ³¢çš„BIC CAMERAå’Œå”å‰è¨¶å¾·æ˜¯è²·é›»å™¨å’Œé›¶é£Ÿçš„å¥½å»è™•ã€‚',
                            speak: [
                                { zh: 'å…ç¨…', jp: 'å…ç¨ï¼ˆã‚ã‚“ãœã„ï¼‰' },
                                { zh: 'å¯ä»¥åˆ·å¡å—', jp: 'ã‚«ãƒ¼ãƒ‰ã¯ä½¿ãˆã¾ã™ã‹' }
                            ]
                        },
                        {
                            time: 'ä¸­åˆ',
                            title: 'å‰å¾€é—œè¥¿æ©Ÿå ´',
                            category: 'transport',
                            location: 'å—æµ·é›»éµæˆ–JR',
                            price: 920,
                            desc: 'æ­ä¹˜å—æµ·é›»éµç‰¹æ€¥Rapi:tæˆ–JRé—œç©ºå¿«é€Ÿå‰å¾€é—œè¥¿æ©Ÿå ´ã€‚å»ºè­°æå‰2.5-3å°æ™‚æŠµé”æ©Ÿå ´ï¼Œé ç•™é€€ç¨…å’Œå®‰æª¢æ™‚é–“ã€‚',
                            speak: [
                                { zh: 'é—œè¥¿æ©Ÿå ´', jp: 'é–¢è¥¿ç©ºæ¸¯ï¼ˆã‹ã‚“ã•ã„ãã†ã“ã†ï¼‰' },
                                { zh: 'ç¬¬ä¸€èˆªå»ˆ', jp: 'ç¬¬1ã‚¿ãƒ¼ãƒŸãƒŠãƒ«' }
                            ]
                        }
                    ]
                }
            ]
        };

        // Budget Data
        const budgetData = [
            { name: 'å—æµ·é›»éµï¼ˆä¾†å›ï¼‰', category: 'transport', price: 1840, paid: true },
            { name: 'å¤§é˜ªå‘¨éŠå¡ 2æ—¥åˆ¸', category: 'transport', price: 3600, paid: true },
            { name: 'å¤©æ©‹ç«‹äº¤é€šï¼ˆä¾†å›ï¼‰', category: 'transport', price: 8000, paid: false },
            { name: 'äº¬éƒ½å·´å£«ä¸€æ—¥åˆ¸', category: 'transport', price: 700, paid: true },
            { name: 'è¿‘éµå¥ˆè‰¯ç·š', category: 'transport', price: 620, paid: true },
            { name: 'æ±å¤§å¯ºé–€ç¥¨', category: 'activity', price: 600, paid: false },
            { name: 'æ¸…æ°´å¯ºé–€ç¥¨', category: 'activity', price: 400, paid: false },
            { name: 'å‹å°¾å¯ºé–€ç¥¨', category: 'activity', price: 425, paid: false },
            { name: 'é»‘é–€å¸‚å ´æ™šé¤', category: 'food', price: 3000, paid: false },
            { name: 'å®‡æ²»æŠ¹èŒ¶ç”œé»', category: 'food', price: 800, paid: false }
        ];

        // Initialize Calendar
        function initCalendar() {
            const strip = document.getElementById('calendarStrip');
            const weekdays = ['SUN', 'MON', 'TUE', 'WED', 'THU', 'FRI', 'SAT'];
            
            for (let i = 0; i < tripData.days; i++) {
                const date = new Date(tripData.startDate);
                date.setDate(date.getDate() + i);
                
                const dayEl = document.createElement('div');
                dayEl.className = 'calendar-day' + (i === 0 ? ' active' : '');
                dayEl.dataset.day = i + 1;
                dayEl.innerHTML = `
                    <div class="weekday">${weekdays[date.getDay()]}</div>
                    <div class="date">${date.getDate()}</div>
                    <div class="dot"></div>
                `;
                dayEl.addEventListener('click', () => selectDay(i + 1));
                strip.appendChild(dayEl);
            }
        }

        // Select Day
        function selectDay(day) {
            document.querySelectorAll('.calendar-day').forEach(el => {
                el.classList.toggle('active', parseInt(el.dataset.day) === day);
            });
            renderSchedule(day);
        }

        // Render Schedule
        function renderSchedule(day) {
            const dayData = tripData.schedule.find(d => d.day === day);
            if (!dayData) return;

            // Update hero
            document.querySelector('.day-hero-image').src = dayData.image;
            document.getElementById('heroTitle').textContent = dayData.title;
            document.querySelector('.day-badge').innerHTML = `
                <span>DAY ${day}</span>
                <span>ğŸ“ ${dayData.location}</span>
            `;

            // Update weather location
            document.getElementById('weatherLocation').textContent = dayData.location.split('ãƒ»')[0];

            // Render timeline
            const timeline = document.getElementById('timeline');
            timeline.innerHTML = '';

            dayData.items.forEach((item, index) => {
                const timelineItem = document.createElement('div');
                timelineItem.className = `timeline-item ${item.category}`;
                
                const timeDisplay = item.time.includes(':') 
                    ? `<span class="hour">${item.time}</span>` 
                    : `<span class="hour" style="font-size: 12px;">${item.time}</span>`;

                const categoryLabels = {
                    transport: 'äº¤é€š',
                    food: 'ç¾é£Ÿ',
                    sightseeing: 'æ™¯é»'
                };

                timelineItem.innerHTML = `
                    <div class="timeline-time">${timeDisplay}</div>
                    <div class="timeline-dot"></div>
                    <div class="timeline-card ${item.category}" onclick="openDetail(${day}, ${index})">
                        <div class="timeline-card-header">
                            <div class="timeline-card-title">${item.title}</div>
                            <div class="timeline-card-category">${categoryLabels[item.category]}</div>
                        </div>
                        <div class="timeline-card-location">ğŸ“ ${item.location}</div>
                        <div class="timeline-card-desc">${item.desc}</div>
                        ${item.price > 0 ? `<div class="timeline-card-price">Â¥${item.price.toLocaleString()} / äºº</div>` : ''}
                    </div>
                `;
                timeline.appendChild(timelineItem);
            });

            // Update preview bar
            if (dayData.items.length > 0) {
                const nextItem = dayData.items[1] || dayData.items[0];
                document.getElementById('previewTime').textContent = dayData.items[0].time;
                document.getElementById('previewTitle').textContent = dayData.items[0].title;
                document.getElementById('previewNextTime').textContent = nextItem.endTime || nextItem.time;
            }
        }

        // Open Detail Modal
        let currentItem = null;
        function openDetail(day, index) {
            const dayData = tripData.schedule.find(d => d.day === day);
            const item = dayData.items[index];
            currentItem = item;

            const categoryLabels = {
                transport: 'TRANSPORT',
                food: 'FOOD',
                sightseeing: 'SIGHTSEEING'
            };

            document.getElementById('modalCategory').textContent = categoryLabels[item.category];
            document.getElementById('modalTime').textContent = item.time;
            document.getElementById('modalTitle').textContent = item.title;
            document.getElementById('modalAddress').innerHTML = `ğŸ“ <span>${item.location}</span>`;
            document.getElementById('modalInfo').innerHTML = `<p>${item.desc}</p>`;

            // Speak section
            const speakSection = document.getElementById('speakSection');
            const speakItems = document.getElementById('speakItems');
            if (item.speak && item.speak.length > 0) {
                speakSection.style.display = 'block';
                speakItems.innerHTML = item.speak.map(s => `
                    <div class="speak-item" onclick="showFullscreen('${s.jp}')">
                        <span class="speak-zh">${s.zh}</span>
                        <span class="speak-jp">${s.jp}</span>
                    </div>
                `).join('');
            } else {
                speakSection.style.display = 'none';
            }

            // GPS section
            const gpsCard = document.getElementById('gpsCard');
            if (item.phone) {
                gpsCard.style.display = 'flex';
                document.getElementById('gpsNumber').textContent = item.phone;
            } else {
                gpsCard.style.display = 'none';
            }

            document.getElementById('modalOverlay').classList.add('active');
        }

        function closeModal() {
            document.getElementById('modalOverlay').classList.remove('active');
        }

        // Fullscreen Card
        function showFullscreen(text) {
            document.getElementById('fullscreenText').textContent = text;
            document.getElementById('fullscreenCard').classList.add('active');
        }

        document.getElementById('fullscreenCard').addEventListener('click', () => {
            document.getElementById('fullscreenCard').classList.remove('active');
        });

        // Open Google Maps
        function openLocationMap() {
            if (currentItem) {
                const query = encodeURIComponent(currentItem.location);
                window.open(`https://www.google.com/maps/search/?api=1&query=${query}`, '_blank');
            }
        }

        function openGoogleMaps() {
            window.open('https://www.google.com/maps/d/viewer?mid=YOUR_MAP_ID', '_blank');
        }

        // Tab Navigation
        document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const tab = btn.dataset.tab;
                
                document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                document.getElementById(`${tab}Tab`).classList.add('active');

                // Show/hide preview bar
                document.getElementById('previewBar').style.display = tab === 'schedule' ? 'flex' : 'none';
            });
        });

        // Budget Tab
        function renderBudget() {
            const total = budgetData.reduce((sum, item) => sum + item.price, 0);
            document.getElementById('totalBudget').textContent = total.toLocaleString();
            document.getElementById('perPerson').textContent = `$${Math.round(total / 2).toLocaleString()}`;
            document.getElementById('mapCount').textContent = `${tripData.schedule.reduce((sum, d) => sum + d.items.length, 0)} å€‹åœç•™é»`;

            renderBudgetList('all');
        }

        function renderBudgetList(filter) {
            const list = document.getElementById('budgetList');
            const filtered = filter === 'all' 
                ? budgetData 
                : budgetData.filter(item => item.category === filter);

            const icons = {
                transport: 'ğŸšƒ',
                food: 'ğŸœ',
                activity: 'ğŸ«'
            };

            list.innerHTML = filtered.map(item => `
                <div class="budget-item">
                    <div class="budget-item-left">
                        <div class="budget-item-icon">${icons[item.category]}</div>
                        <div>
                            <div class="budget-item-name">${item.name}</div>
                            <div class="budget-item-category">${item.category === 'transport' ? 'äº¤é€š' : item.category === 'food' ? 'é¤é£²' : 'é–€ç¥¨'}</div>
                        </div>
                    </div>
                    <div class="budget-item-amount">
                        <div class="budget-item-price">Â¥${item.price.toLocaleString()}</div>
                        <div class="budget-item-status">${item.paid ? 'âœ“ å·²ä»˜' : 'å¾…ä»˜'}</div>
                    </div>
                </div>
            `).join('');
        }

        document.querySelectorAll('.budget-filter').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.budget-filter').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                renderBudgetList(btn.dataset.filter);
            });
        });

        // Close modal on overlay click
        document.getElementById('modalOverlay').addEventListener('click', (e) => {
            if (e.target === document.getElementById('modalOverlay')) {
                closeModal();
            }
        });

        // Initialize
        initCalendar();
        renderSchedule(1);
        renderBudget();
    </script>
</body>
</html>
